{%  extends 'layout.html' %}

{% block content %}
     <div class="container">
        <div class="container text-center" style="margin-top: 20px; margin-bottom: 30px;">
          <h2 style="font-weight: bold;">Order Management</h2>
        </div>
        <div style="margin-bottom: 10px" class="clearfix">
            <a class="btn btn-success" href="/order/add/">
                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
                New Order
            </a>
            <div style="float: right; width:300px">
                <form method="get">
                     <div class="input-group">

                          <input type="text" name="q" class="form-control" placeholder="Table Number" value="{{ search_data }}">
                          <span class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </button>
                          </span>

                    </div>
                </form><!-- /input-group -->

            </div>
        </div>

        <div class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading">

          <span class="glyphicon glyphicon-th" aria-hidden="true"></span>

            Order List
      </div>
      <!-- Table -->
      <table class="table table-bordered">
        <thead>
          <tr>
              <th>Table Number</th>
              <th>Server Name</th>
              <th>Item</th>
              <th>item Number</th>
              <th>Price/Item</th>
              <th>Status</th>
              <th>Operation</th>
          </tr>
        </thead>
        <tbody>
        {% for obj in queryset %}
          <tr>
              <th>{{ obj.tableNum }}</th>
              <th>{{ obj.serverId.name }}</th>
              <th>{{ obj.item.get_item_display }}</th>
              <th>{{ obj.itemNum }}</th>
              <th>{{ obj.item.itemPrice}}</th>
              <th>{{ obj.get_status_display }}</th>


            <td>
                <a class="btn btn-primary btn-xs" href="/order/{{ obj.id }}/edit/">Edit</a>
                <a class="btn btn-danger btn-xs" href="/order/{{ obj.id }}/delete/">Delete</a>
            </td>
          </tr>

        {% endfor %}

        </tbody>

      </table>
    </div>
         <ul class="pagination">
          {% if queryset.has_previous %}
            <li><a href="?page={{ queryset.previous_page_number }}&q={{ search_data }}">«</a></li>
          {% else %}
            <li class="disabled"><a href="#">«</a></li>
          {% endif %}

          {% for num in queryset.paginator.page_range %}
            {% if num == queryset.number %}
              <li class="active"><a href="#">{{ num }}</a></li>
            {% else %}
              <li><a href="?page={{ num }}&q={{ search_data }}">{{ num }}</a></li>
            {% endif %}
          {% endfor %}

          {% if queryset.has_next %}
            <li><a href="?page={{ queryset.next_page_number }}&q={{ search_data }}">»</a></li>
          {% else %}
            <li class="disabled"><a href="#">»</a></li>
          {% endif %}
        </ul>
    </div>

{% endblock %}